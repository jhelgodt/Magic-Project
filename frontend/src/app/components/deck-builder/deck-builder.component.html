<section id="deck-builder" class="deck-builder">
  <div class="deck-builder">
    <header class="deck-builder__header">
      <h1 class="deck-builder__title">Deckbuilder</h1>

      <p class="deck-builder__info">
        If you're <strong>not logged in</strong>, you can only create decks by
        checking <em>“Make this deck public”</em>. Public decks will show up
        below once created.
      </p>
    </header>

    <div class="deck-builder__add-form">
      <form [formGroup]="newDeckForm" (ngSubmit)="createDeck()">
        <input
          class="deck-builder__input"
          formControlName="name"
          placeholder="Deck Name"
          required
        />

        <textarea
          class="deck-builder__textarea"
          formControlName="description"
          placeholder="Deck Description"
          required
        ></textarea>

        <label class="deck-builder__checkbox-label">
          <input
            type="checkbox"
            formControlName="isPublic"
            class="deck-builder__checkbox"
          />
          Make this deck public
        </label>

        <button class="deck-builder__button" type="submit">Create Deck</button>
      </form>
    </div>

    <section class="deck-builder__grid">
      <div *ngIf="decks.length === 0" class="deck-builder__empty">
        ⏳ Just a moment... Public decks will appear here shortly once the
        server has started. If you're logged in, your own decks will show up
        too.
      </div>

      <div class="deck-card" *ngFor="let deck of decks">
        <div class="deck-card__info">
          <h3 class="deck-card__title">{{ deck.name }}</h3>
          <p class="deck-card__details">{{ deck.description }}</p>

          <div class="deck-card__meta" *ngIf="deck.isPublic">
            <span class="deck-card__tag">🌍 Public Deck</span>
          </div>

          <button class="deck-card__button" (click)="viewDeck(deck._id)">
            View Deck
          </button>
        </div>
      </div>
    </section>
  </div>
</section>
